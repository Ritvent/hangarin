{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="row">
              <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-9">
                        <div class="d-flex align-items-center align-self-start">
                          <h3 class="mb-0">12</h3>
                          <p class="text-success ml-2 mb-0 font-weight-medium">+3</p>
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="icon icon-box-success">
                          <span class="mdi mdi-format-list-checks icon-item"></span>
                        </div>
                      </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Total Tasks</h6>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-9">
                        <div class="d-flex align-items-center align-self-start">
                          <h3 class="mb-0">8</h3>
                          <p class="text-success ml-2 mb-0 font-weight-medium">+2</p>
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="icon icon-box-success">
                          <span class="mdi mdi-check-circle icon-item"></span>
                        </div>
                      </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Completed</h6>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-9">
                        <div class="d-flex align-items-center align-self-start">
                          <h3 class="mb-0">4</h3>
                          <p class="text-warning ml-2 mb-0 font-weight-medium">+1</p>
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="icon icon-box-warning">
                          <span class="mdi mdi-clock icon-item"></span>
                        </div>
                      </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">In Progress</h6>
                  </div>
                </div>
              </div>
              <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <div class="row">
                      <div class="col-9">
                        <div class="d-flex align-items-center align-self-start">
                          <h3 class="mb-0">0</h3>
                          <p class="text-danger ml-2 mb-0 font-weight-medium">-1</p>
                        </div>
                      </div>
                      <div class="col-3">
                        <div class="icon icon-box-danger">
                          <span class="mdi mdi-alert-circle icon-item"></span>
                        </div>
                      </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Overdue</h6>
                  </div>
                </div>
              </div>
            </div>
              <div class="col-lg-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Bordered table</h4>
                    <p class="card-description"> Add class <code>.table-bordered</code>
                    </p>
                    <div class="table-responsive">
                      <table class="table table-bordered" style="table-layout: fixed; width: 100%;">
                        <thead>
                          <tr>
                                <th style="width: 40%;"> Task </th>
                                <th style="width: 20%;"> Category </th>
                                <th style="width: 25%;"> Progress </th>
                                <th style="width: 15%;"> Deadline </th>
                              </tr>
                        </thead>
                        <tbody>
                        {% if task_rows %}
                          {% for row in task_rows %}
                            <tr>
                              <td style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ row.task.title }}</td>
                              <td>{{ row.task.category.category_name }}</td>
                              <td>
                                <div class="progress">
                                  <div class="progress-bar {% if row.progress >= 75 %}bg-success{% elif row.progress >= 50 %}bg-primary{% else %}bg-warning{% endif %}" role="progressbar" style="width: {{ row.progress }}%" aria-valuenow="{{ row.progress }}" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                              </td>
                              <td>{% if row.task.deadline %}{{ row.task.deadline|date:"M d, Y" }}{% endif %}</td>
                            </tr>
                          {% endfor %}
                        {% else %}
                          <!-- fallback sample rows if no tasks present -->
                          <tr>
                            <td> Herman Beck </td>
                            <td>
                              <div class="progress">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                            </td>
                            <td> May 15, 2015 </td>
                          </tr>
                        {% endif %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            

            
                    
                   


{% endblock %}